---
layout: post
title:  "命令行学习"
date:   2017-05-02 16:51:30 +0800

---
* 查看文件大小

du -h -d 1 debug.14.log <br>

* ls 命令

ls -lht 文件按照时间排序
ls target/ibd-data-api*.jar ls特定文件
ls wangxc/ibd*.yaml  | awk -f'/' '{print$2}' ls特定文件，并以‘/’进行分割打印

* 当前目录

pwd

* log文件操作
1. 如果你只想看文件的前5行，可以使用head命令，如： 
head -5 /etc/passwd 
2. 如果你想查看文件的后10行，可以使用tail命令，如： 
tail -10 /etc/passwd 或 tail -n 10 /etc/passwd 
tail -f /var/log/messages //参数-f使tail不停地去读最新的内容，这样有实时监视的效果 用Ctrl＋c来终止！ 
3. 筛选文件内容
```shell
grep 'decode.failure' debug.20170428.0.log |more
grep 工单 debug.log|grep 22:16:16.054 //多次搜索
```
* last
该命令用来列出目前与过去登录系统的用户相关信息。指令英文原义：show listing of last logged in users
last -n 5 //仅输出前五行

* awk
awk是一个强大的文本分析工具，相对于grep的查找，sed的编辑，awk在其对数据分析并生成报告时，显得尤为强大。简单来说awk就是把文件逐行的读入，以空格为默认分隔符将每行切片，切开的部分再进行各种分析处理。
last -n 5 | awk  '{print $1}' //只是显示最近登录的5个帐号
ls wangxc/ibd*.yaml  | awk -f'/' '{print$2}' ls特定文件，并以‘/’进行分割打印

* 变量

jarFile=`ls target/ibd-data-api*.jar | awk -F'/' '{print$2}'`  设置变量
echo $jarFile  打印变量
date 打印日期


* 更新进程的一系列操作
```shell
//查询java进程
ps -elf | grep java
// 杀死查询到的进程
kill -9  $pid
//删除老文件
rm ibd-gather-api-1.1-SNAPSHOT.jar
// 重命名文件
mv ibd-gather-api-1.1-SNAPSHOT.jar.0 ibd-gather-api-1.1-SNAPSHOT.jar
//运行新的jar
java -jar $jar-name "--spring.profiles.active=local" &
//查询历史执行操作
history
history | grep "data-api"
```
 
* 获取当前系统内存占用情况
top
* 获取多个文件的过滤信息
grep "analysis hbase" debug.*

* 查找文件
```shell
find */*/*log // 查找当前目录下2级目录中，以log结尾的文件
find /*/log //查询根目录下级目录为log的文件
find -atime -2 // 查找2个小时内修改过的文件  -amin -10 为10分钟内
find . -name *ibd-data //查找当前目录以下的文件
find . -size +1000c -print //查找当前目录以下大于1k的文件
```
* 特殊字符
```shell
$ echo 'pwd' // 结果 pwd
$ echo `pwd` // 结果 /home/zhangyc
```
* 打印当前path
```shell
echo $PATH | sed 's/:/\n/g'
```
* 命令帮助 “man + 命令”了解这个命令能确切是做什么的。

* 常用命令

free //内存 
df //硬盘 
type ls //查询命令的真实执行 
clear //清空屏幕

<br>

