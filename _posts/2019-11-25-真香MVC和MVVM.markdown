---
layout: post
title:  "2019-11-25-真香MVC和MVVM.markdown"
date:   2019-11-25 12:11:30 +0800

1. 真香定律
当初不在意这些设计模式,只是重视会不会写不重视质量,
慢慢的发现这种写代码的风格其实还挺重要的,现在摘录下自己的认识

2. 样板
商品的选中状态,点击选中这个商品,再次点击取消选中
普通模式：界面代码自己响应点击同时去修改对应数据
MVC: v的响应统一由指定c来处理,c会修改数据同时进行界面更新
MVVM:
在某一组生命周期开始的时候(可能是基于Activity),新建ViewModel,初始化默认数据,开放数据监听;
在界面的生命周期中,在界面初始化的时候通过ViewModel建立数据监听,根据数据内容,更新界面.
在界面生命周期结束时,解除绑定,在Android的体系中会根据(view的生命周期和Activity对应,或者被remove后解除)
lifecycle自动解除绑定.

flutter是标准的MVVM的开发模式;
在flutter中不需要View的持有,View的重建成本由系统承担.

3. MVVM的优点
代码逻辑清晰,建立绑定关系后,只需要改变Model,界面自动跟随变化
引用关系更加清晰,只要在管理好界面自己的生命周期,
在确定数据不需要的时候,管理数据的生命周期(不是很重要)

 
 
    