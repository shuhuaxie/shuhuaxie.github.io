---
layout: post
title:  "2019-01-09-RTMP"
date:   2019-01-09 12:11:30 +0800

---

* 简介

RTMP(Real Time Message Protocol)是一个基于tcp的长连接数据传输应用层协议.
它是Adobe公司申请了专利,并且开放出来的协议.
它将音视频数据分解为独立帧数据进行传输,主要承载格式为MP3,ACC,FLV,同时进行RPC通讯.
(RTMP的内容也可以通过HTTP的POST请求进行传输,这样可以绕过防火墙)
* 协议主要内容,RTMP的三个通讯阶段

1)握手

客户端发起,服务端响应3次握手

2)建立连接

客户端请求建立连接,发送请求内容(路径),flash版本和音视频编码协议等.
服务器确认请求.

3)播放

客户端发起创建流请求.服务端开始发送flv tags.
在播放过程中,音视频和传输控制fragment是可以交替发送的.





