---
layout: post
title:  "数据库学习"
date:   2017-05-03 16:51:30 +0800

---
* 本地连接到数据库

C:\Program Files\MySQL\MySQL Server 5.7\bin>mysql -u root -p
Enter password: **** <br>

* 创建数据库

create database xiexie

* 查询数据库版本

select Version();

* 显示时间

SELECT *,FROM_UNIXTIME(createTime/1000, '%Y-%m-%d %H:%i:%s') 

* 查询注意

SELECT * FROM ibd_cm.task_job where jobCode = "201705150944-1" 如果把双引号去掉会查不出来

* 执行计划 explain +任意sql语句

explain SELECT * FROM ibd_cm.task_job where jobCode = "201705150944-1"
<br>

* 数据库时间

SELECT
    LEFT(FROM_UNIXTIME(UNIX_TIMESTAMP('2017-06-26 00：00：00')),
        10) date,
    (UNIX_TIMESTAMP('2017-06-26 00：00：00')),
    (UNIX_TIMESTAMP('2017-06-26')),
    FROM_UNIXTIME('1498406400');
* 数据库函数
SELECT
    CONCAT(id, '-', jobCode) '工单Id+工单号',
    if(planFinishTime >= finishTime, '正常', if(left(planFinishTime, 7) = left(finishTime, 7), '新增延迟', '历史延迟'))    '交付状态',
    if (0>1,0,1) 'test'
FROM
    task_job;

* 数据库命令
    show table status  -- 显示当前库所有表的状态

