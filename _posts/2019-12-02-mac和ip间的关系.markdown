---
layout: post
title:  "2019-12-02-mac和ip间的关系.markdown"
date:   2019-12-02 12:11:30 +0800

1. mac地址是广域网概念,ip是互联网概念
广域网是 1,2层网络协议.物理+数据链路层
ip是3,4,5层协议. 网络 传输 应用
2. mac是48位 12个16进制组成,ip是32位,4个字节组成
3. mac是网络硬件出厂属性,由厂商指定,带有厂商标记,ip是联网之后由网络层进行指派的.
4. ip仅规定了起点和终点,数据中间的网络跳转需要根据当前设备记录的上下游的mac地址进行.
ip的设计有逻辑区域性,可以通过前几位的标记很方便的进行路由跳转计算,方便路由.
mac地址有很强的随意性,没办法根据mac地址划分网络区域,不能直接进行点对点通讯.
5. 网络层协议是IP，底层协议是以太网，在局域网的范围内，通过ARP来将IP和MAC地址对应起来。
在主机中，并不是"MAC地址表中储存IP地址"，而是“ARP表中存储局域网内IP地址和MAC地址的对应关系"
一般APR表缓存20分钟.
反向地址转换协议（RARP：Reverse Address Resolution Protocol） 反向地址转换协议（RARP）
允许局域网的物理机器从网关服务器的 ARP 表或者缓存上请求其 IP 地址。
6. mac地址是网络设备的标配,比如蓝牙
以太网适配器 蓝牙网络连接:

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Bluetooth Device (Personal Area Network)
   物理地址. . . . . . . . . . . . . : 60-14-B3-AF-CA-2A
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是
以太网适配器 以太网: //有线网卡

   媒体状态  . . . . . . . . . . . . : 媒体已断开连接
   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Realtek PCIe GBE Family Controller
   物理地址. . . . . . . . . . . . . : 54-E1-AD-93-AF-BD
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是
无线局域网适配器 WLAN://无线网卡

   连接特定的 DNS 后缀 . . . . . . . :
   描述. . . . . . . . . . . . . . . : Realtek 8821CE Wireless LAN 802.11ac PCI-E NIC
   物理地址. . . . . . . . . . . . . : 60-14-B3-AF-CA-29
   DHCP 已启用 . . . . . . . . . . . : 是
   自动配置已启用. . . . . . . . . . : 是
   本地链接 IPv6 地址. . . . . . . . : fe80::b409:2e8:7bfb:7453%14(首选)
   IPv4 地址 . . . . . . . . . . . . : 192.168.20.36(首选)
   子网掩码  . . . . . . . . . . . . : 255.255.255.0
   获得租约的时间  . . . . . . . . . : 2019年12月1日 11:18:24
   租约过期的时间  . . . . . . . . . : 2019年12月3日 9:18:18
   默认网关. . . . . . . . . . . . . : 192.168.20.1
   DHCP 服务器 . . . . . . . . . . . : 192.168.20.1
   DHCPv6 IAID . . . . . . . . . . . : 425727155
   DHCPv6 客户端 DUID  . . . . . . . : 00-01-00-01-25-3B-36-6C-54-E1-AD-93-AF-BD
   DNS 服务器  . . . . . . . . . . . : 202.106.46.151
                                       114.114.114.114
   TCPIP 上的 NetBIOS  . . . . . . . : 已启用

7) mac其他使用场景
mac地址在集线器,L2交换机下，2层情况下设计出来的，历史的产物。
数据帧的源 IP 和目标 IP 始终是不变的，而经过每个路由进行重新封装数据时 MAC 地址则在不断的变化，
总是以自己的地址作为源 MAC 地址，下一跳的地址作为目标 MAC 地址

参考:
https://www.zhihu.com/question/21546408
https://www.zhihu.com/question/49335649?sort=created
 
 
    